<!doctype html>
<html lang='en'>
  <head>
    <!-- Required meta tags -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href="/CHAMP/static/custom.css">
    <link rel="stylesheet" href="/CHAMP/static/bootstrap.css">
    <link rel="stylesheet" href="/CHAMP/static/stackoverflow-light.min.css">
    <script src="/CHAMP/static/bootstrap.bundle.min.js"></script>
    <script src="/CHAMP/static/jquery.min.js"></script>
    <script src="/CHAMP/static/utils.js"></script>
    <script src="/CHAMP/static/highlight.min.js"></script>

    <title>CHAMP Dataset Explorer</title>

    <style>
      html {
        font-size: 15px;
        line-height: 1.1;
      }
      .modebar{
        display: none !important;
      }

      .noscroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .noscroll::-webkit-scrollbar {
        display: none;
      }

    </style>
  </head>

  <body>
    <h3 style='text-align: center; margin-bottom: 20px; margin-top: 20px;'>Model Generation</h3>

    <div class='container-fluid mb-3'>

      <div class='row'>
        <div class='col-2 px-3'></div>
        <div class='col-8 px-3'>
          <table class='table table-striped' style="width: 100%; table-layout: fixed"><tr>
            <th>Problem</th>
            <th>Model</th>
            <th>Prompt</th>
          </tr>
          <tr>
            <td>P_Combinatorics_3</td>
            <td>PaLM 2 Medium</td>
            <td>1/3 Soln</td>
          </tr>
          <tr>
            <td colspan="3"><b>Ground Truth Answer:</b> 2^floor(n/2)*floor(n/2)!</td>
          </tr>
        </table>
          <h5 style="margin-top: 15px; padding-left: 3px;">Use in Code</h5>
          <pre><code>import champ_dataset # "pip install champ-dataset" if necessary
dataset = champ_dataset.load('v0')
problem = dataset['P_Combinatorics_3']
messages = problem.conversations['PaLM 2 Medium|1/3 Soln'].messages
for message in messages:
    print(f'Role: {message.role}')
    print(f'Text: {message.text}')
    print(f'Error: {message.error}')
    print('-----------------------')</code></pre>
          <h5 style="margin-top: 15px; padding-left: 3px;">Full Conversation
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #AEC7E8;'>System Prompt</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #98DF8A;'>User Input</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #FFBB78;'>Model Output</span>
          </h5>
          <pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #AEC7E8 !important;'>You are an expert on mathematics.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>Solve the following problem. Make sure to show your work before giving the final answer.

On a chess board, two rooks are placed peacefully if they are not on the same row or column. For an n x n chess board, find the number of ways that n rooks can be placed peacefully (i.e., any two are placed peacefully) and the placing is also invariant to a 180-degree rotation.

Below is a partial solution to the problem that may be helpful:

1. We need one rook per row and one rook per column.
2. If n is odd, for a 180-degree rotation-invariant placement, we must have the center of the board being occupied by a rook.
3. Thus, the number of placement of a 2k+1 x 2k+1 board is the same as that of a 2k x 2k board.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>The number of ways to place $n$ rooks on an $n\times n$ chess board so that no two rooks are in the same row or column is given by the Catalan number $C_n$. The Catalan numbers can be defined recursively as follows:

$$C_0 = 1, \qquad C_n = \sum_{k=0}^{n-1} C_k C_{n-1-k}$$

or in terms of factorials as follows:

$$C_n = \frac{1}{n+1} \binom{2n}{n}$$

The Catalan numbers have many interesting properties. For example, they count the number of ways to partition a set of $n$ objects into pairs. They also count the number of ways to draw $n$ non-crossing Dyck paths on a $2\times n$ grid.

To see that the number of ways to place $n$ rooks on an $n\times n$ chess board so that no two rooks are in the same row or column is given by the Catalan number $C_n$, we can use the following argument. First, we can choose the $n$ squares that will be occupied by the rooks in $C_n$ ways. Once we have chosen these squares, we can place the rooks in them in $n!$ ways. However, some of these placements will be equivalent under rotations of the board. To count the number of inequivalent placements, we can consider the following graph. The vertices of the graph are the $n^2$ squares on the board. Two vertices are connected by an edge if the corresponding squares are in the same row or column. The number of inequivalent placements is then equal to the number of connected components of this graph.

It is easy to see that this graph has a connected component for each of the $n$ rows and columns of the board. It also has a connected component for the diagonals of the board. If $n$ is even, then there is an additional connected component corresponding to the center square of the board. If $n$ is odd, then there is no connected component corresponding to the center square of the board.

Therefore, the number of inequivalent placements of $n$ rooks on an $n\times n$ chess board is given by:

$$C_n + \sum_{k=1}^{\lfloor \frac{n}{2} \rfloor} C_k C_{n-2k}$$

for $n$ even, and by:

$$C_n + \sum_{k=1}^{\lfloor \frac{n-1}{2} \rfloor} C_k C_{n-2k-1}$$

for $n$ odd.

This can be simplified to:

$$C_n + \sum_{k=0}^{n-1} C_k C_{n-1-k}$$

which is the definition of the Catalan number $C_n$.

Therefore, the number of ways to place $n$ rooks on an $n\times n$ chess board so that no two rooks are in the same row or column is given by the Catalan number $C_n$.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>Now, summarize the answer above in one sentence, without any intermediate steps or explanations.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>The number of ways to place $n$ rooks on an $n\times n$ chess board so that no two rooks are in the same row or column is given by the Catalan number $C_n$.</code></pre>
          <div style="margin-top: 50px; margin-bottom: 50px;"></div>
        </div>
        <div class='col-2 px-3'></div>
      </div>
    </div>

    <script type="text/javascript">hljs.highlightAll();</script>

  </body>
</html>
