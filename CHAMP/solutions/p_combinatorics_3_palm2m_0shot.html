<!doctype html>
<html lang='en'>
  <head>
    <!-- Required meta tags -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href="/CHAMP/static/custom.css">
    <link rel="stylesheet" href="/CHAMP/static/bootstrap.css">
    <link rel="stylesheet" href="/CHAMP/static/stackoverflow-light.min.css">
    <script src="/CHAMP/static/bootstrap.bundle.min.js"></script>
    <script src="/CHAMP/static/jquery.min.js"></script>
    <script src="/CHAMP/static/utils.js"></script>
    <script src="/CHAMP/static/highlight.min.js"></script>

    <title>CHAMP Dataset Explorer</title>

    <style>
      html {
        font-size: 15px;
        line-height: 1.1;
      }
      .modebar{
        display: none !important;
      }

      .noscroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .noscroll::-webkit-scrollbar {
        display: none;
      }

    </style>
  </head>

  <body>
    <h3 style='text-align: center; margin-bottom: 20px; margin-top: 20px;'>Model Generation</h3>

    <div class='container-fluid mb-3'>

      <div class='row'>
        <div class='col-2 px-3'></div>
        <div class='col-8 px-3'>
          <table class='table table-striped' style="width: 100%; table-layout: fixed"><tr>
            <th>Problem</th>
            <th>Model</th>
            <th>Prompt</th>
          </tr>
          <tr>
            <td>P_Combinatorics_3</td>
            <td>PaLM 2 Medium</td>
            <td>0-Shot</td>
          </tr>
          <tr>
            <td colspan="3"><b>Ground Truth Answer:</b> 2^floor(n/2)*floor(n/2)!</td>
          </tr>
        </table>
          <h5 style="margin-top: 15px; padding-left: 3px;">Use in Code</h5>
          <pre><code>import champ_dataset # "pip install champ-dataset" if necessary
dataset = champ_dataset.load('v0')
problem = dataset['P_Combinatorics_3']
messages = problem.conversations['PaLM 2 Medium|0-Shot'].messages
for message in messages:
    print(f'Role: {message.role}')
    print(f'Text: {message.text}')
    print(f'Error: {message.error}')
    print('-----------------------')</code></pre>
          <h5 style="margin-top: 15px; padding-left: 3px;">Full Conversation
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #AEC7E8;'>System Prompt</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #98DF8A;'>User Input</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #FFBB78;'>Model Output</span>
          </h5>
          <pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #AEC7E8 !important;'>You are an expert on mathematics.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>Solve the following problem. Make sure to show your work before giving the final answer.

On a chess board, two rooks are placed peacefully if they are not on the same row or column. For an n x n chess board, find the number of ways that n rooks can be placed peacefully (i.e., any two are placed peacefully) and the placing is also invariant to a 180-degree rotation.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>Let $f(n)$ be the number of ways to place $n$ rooks on an $n\times n$ chess board such that any two rooks are placed peacefully and the placing is also invariant to a 180-degree rotation.

We can solve this problem by considering the following cases:

* Case 1: $n=1$. There is only one way to place a rook on a 1x1 chess board, and this placement is invariant to a 180-degree rotation. Therefore, $f(1)=1$.
* Case 2: $n=2$. There are two ways to place two rooks on a 2x2 chess board such that any two rooks are placed peacefully: either both rooks can be placed in the same row or column, or they can be placed in opposite corners. The first placement is not invariant to a 180-degree rotation, but the second placement is. Therefore, $f(2)=1$.
* Case 3: $n=3$. There are four ways to place three rooks on a 3x3 chess board such that any two rooks are placed peacefully: either all three rooks can be placed in the same row or column, or they can be placed in two rows and the third rook can be placed in the middle of the third row. The first placement is not invariant to a 180-degree rotation, but the second placement is. Therefore, $f(3)=2$.

In general, for $n\geq 4$, there are $n$ ways to place a rook in the first row, $n-1$ ways to place a rook in the second row, and so on, until there is only one way to place the last rook in the last row. This gives a total of $n(n-1)(n-2)\cdots 2\cdot 1=n!$ ways to place $n$ rooks on an $n\times n$ chess board. However, not all of these placements are invariant to a 180-degree rotation. For example, if we place the rooks in the first row, second row, and third row, then the placement is not invariant to a 180-degree rotation because the rooks in the first and third rows would be in the same column after the rotation.

To count the number of placements that are invariant to a 180-degree rotation, we can consider the following. Let $G$ be the group of all symmetries of an $n\times n$ chess board. This group has $2n^2$ elements, corresponding to all possible rotations and reflections of the board. For each placement of $n$ rooks on the board, we can consider the subgroup $H$ of $G$ that consists of all symmetries that leave the placement invariant. The number of elements in $H$ is equal to the number of ways to place $n$ rooks on an $n\times n$ chess board such that any two rooks are placed peacefully and the placing is also invariant to a 180-degree rotation.

To find the number of elements in $H$, we can use the following argument. Let $S_n$ be the group of all permutations of $n$ elements. For each $\sigma\in S_n$, let $R_\sigma$ be the corresponding rotation of the chess board that maps the $i$th row to the $\sigma(i)$th row. Then, $H$ is the subgroup of $S_n$ generated by the elements $R_\sigma$ for $\sigma\in S_n$.

The number of elements in $H$ is equal to the order of $H$, which is equal to the index of $H$ in $S_n$. The index of $H$ in $S_n$ is equal to the number of orbits of $S_n$ acting on the set of all placements of $n$ rooks on an $n\times n$ chess board.

To find the number of orbits of $S_n$ acting on the set of all placements of $n$ rooks on an $n\times n$ chess board, we can use the following argument. Let $P$ be the set of all placements of $n$ rooks on an $n\times n$ chess board. For each $\sigma\in S_n$, let $P_\sigma$ be the set of all placements of $n$ rooks on an $n\times n$ chess board that are mapped to by $\sigma$. Then, the orbits of $S_n$ acting on $P$ are the sets $P_\sigma</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>Now, summarize the answer above in one sentence, without any intermediate steps or explanations.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>The number of ways to place $n$ rooks on an $n\times n$ chess board such that any two rooks are placed peacefully and the placing is also invariant to a 180-degree rotation is $\frac{n!}{2}$.</code></pre>
          <div style="margin-top: 50px; margin-bottom: 50px;"></div>
        </div>
        <div class='col-2 px-3'></div>
      </div>
    </div>

    <script type="text/javascript">hljs.highlightAll();</script>

  </body>
</html>
