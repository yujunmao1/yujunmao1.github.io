<!doctype html>
<html lang='en'>
  <head>
    <!-- Required meta tags -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href="/CHAMP/static/custom.css">
    <link rel="stylesheet" href="/CHAMP/static/bootstrap.css">
    <link rel="stylesheet" href="/CHAMP/static/stackoverflow-light.min.css">
    <script src="/CHAMP/static/bootstrap.bundle.min.js"></script>
    <script src="/CHAMP/static/jquery.min.js"></script>
    <script src="/CHAMP/static/utils.js"></script>
    <script src="/CHAMP/static/highlight.min.js"></script>

    <title>CHAMP Dataset Explorer</title>

    <style>
      html {
        font-size: 15px;
        line-height: 1.1;
      }
      .modebar{
        display: none !important;
      }

      .noscroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .noscroll::-webkit-scrollbar {
        display: none;
      }

    </style>
  </head>

  <body>
    <h3 style='text-align: center; margin-bottom: 20px; margin-top: 20px;'>Model Generation</h3>

    <div class='container-fluid mb-3'>

      <div class='row'>
        <div class='col-2 px-3'></div>
        <div class='col-8 px-3'>
          <table class='table table-striped' style="width: 100%; table-layout: fixed"><tr>
            <th>Problem</th>
            <th>Model</th>
            <th>Prompt</th>
          </tr>
          <tr>
            <td>P_Combinatorics_12</td>
            <td>PaLM 2 Medium</td>
            <td>Problem w/o H</td>
          </tr>
          <tr>
            <td colspan="3"><b>Ground Truth Answer:</b> (n+1)^(n-1)</td>
          </tr>
        </table>
          <h5 style="margin-top: 15px; padding-left: 3px;">Use in Code</h5>
          <pre><code>import champ_dataset # "pip install champ-dataset" if necessary
dataset = champ_dataset.load()
problem = dataset['P_Combinatorics_12']
messages = problem.conversations['PaLM 2 Medium|Problem w/o H'].messages
for message in messages:
    print(f'Role: {message.role}')
    print(f'Text: {message.text}')
    print(f'Error: {message.error}')
    print('-----------------------')</code></pre>
          <h5 style="margin-top: 15px; padding-left: 3px;">Full Conversation
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #AEC7E8;'>System Prompt</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #98DF8A;'>User Input</span>
            <span style='padding-left: 5px; padding-right: 5px; margin-left: 15px; font-size: 1rem; background-color: #FFBB78;'>Model Output</span>
          </h5>
          <pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #AEC7E8 !important;'>You are an expert on mathematics.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>First, study the following problem and its solution as they may contain helpful information.

Problem: n people sit around a circular table. How many of the n! arrangements are distinct (i.e., do not have the same neighboring relations), as an expression of n?
Step-wise solution:
1. For each arrangement, a total of n rotations and 2 reflections all preserve the neighoring relationship.
2. Thus, the distinct number of arrangement is n!/(2n).

With what you have learned, solve the following problem. Make sure to show your work before giving the final answer.

Along a one-way street there are n parking lots. One-by-one n cars numbered 1 to n enter the street. Each driver i heads to his favorite parking lot a_i, and, if it is free, he occupies it. Otherwise, he continues to the next free lot and occupies it. But if all succeeding lots are occupied, he leaves for good. How many sequences {a_1, ..., a_n} are such that every driver can park, as an expression of n?</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>The solution to the problem of the people sitting around a circular table can be generalized to the problem of parking cars in a one-way street. In both cases, we have a set of objects (people or cars) that need to be arranged in a linear order (around a table or along a street). Each object has a preference for its position in the order, and the objects are placed in order of their arrival. If an object&#x27;s preferred position is not available, it is placed in the next available position. If all positions are occupied, the object leaves.

The number of possible arrangements of the people or cars is given by the following formula:

$$\frac{n!}{2n}$$

where $n$ is the number of objects.

To see why this is the case, consider the first object. It has $n$ choices for its position. For each of these choices, the second object has $n-1$ choices for its position, and so on. Thus, the total number of possible arrangements is $n! = n \times (n-1) \times \cdots \times 3 \times 2 \times 1$.

However, this overcounts the number of arrangements by a factor of $2n$. This is because every arrangement is equivalent to its mirror image, and to the arrangement obtained by rotating the entire set of objects by $180^\circ$. Therefore, the number of distinct arrangements is:

$$\frac{n!}{2n}$$

The following is a step-wise solution to the problem of parking cars in a one-way street:

1. For each car $i$, let $a_i$ be the parking lot that car $i$ prefers.
2. Let $f(i)$ be the parking lot that car $i$ actually parks in.
3. Initialize $f(i) = -1$ for all $i$.
4. For each car $i$, in order of arrival:
    * If $a_i$ is free, set $f(i) = a_i$ and go to the next car.
    * Otherwise, set $f(i) = -1$ and stop the algorithm.
5. If all cars have been assigned a parking lot, then the algorithm has found a solution. Otherwise, the algorithm has failed.

The number of possible solutions to the parking problem is given by the following formula:

$$\sum_{i=0}^n \binom{n}{i} (-1)^i$$

where $\binom{n}{i}$ is the binomial coefficient.

To see why this is the case, consider the following example. Suppose that there are $3$ cars and $4$ parking lots. The possible arrangements of the cars are as follows:

* Car 1 parks in lot 1, car 2 parks in lot 2, and car 3 parks in lot 3.
* Car 1 parks in lot 2, car 2 parks in lot 1, and car 3 parks in lot 3.
* Car 1 parks in lot 3, car 2 parks in lot 1, and car 3 parks in lot 2.
* Car 1 parks in lot 3, car 2 parks in lot 2, and car 3 parks in lot 1.
* Car 1 parks in lot 1, car 2 parks in lot 3, and car 3 parks in lot 2.
* Car 1 parks in lot 2, car 2 parks in lot 3, and car 3 parks in lot 1.
* Car 1 parks in lot 3, car 2 parks in lot 2, and car 3 parks in lot 1.

Of these $8$ arrangements, only $2$ are solutions to the parking problem:

* Car 1 parks in lot 1, car 2 parks in lot 2, and car 3 parks in lot 3.
* Car 1 parks in lot 3, car 2 parks in lot 2, and car 3 parks in lot 1.

The other $6$ arrangements are not solutions because one or more cars is not parked in its preferred lot.

The number of possible arrangements of the cars is given by the following formula:

$$\binom{3}{1} 4! + \binom{3}{2} 3! + \binom{3}{3} 2! = 24 + 18 + 6 = 48$$

However, this overcounts the number of solutions by a factor of $3!$. This is because every arrangement is equivalent to the arrangement obtained</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #98DF8A !important;'>Now, summarize the answer above in one sentence, without any intermediate steps or explanations.</code></pre>
<pre style="margin-bottom: 15px; margin-top: 15px;"><code class="language-plaintext" style='background-color: #FFBB78 !important;'>The number of ways to park $n$ cars in $n$ parking lots, where each car parks in its preferred lot if possible, is $\binom{n}{0} + \binom{n}{1} + \cdots + \binom{n}{n-1} = 2^n$.</code></pre>
          <div style="margin-top: 50px; margin-bottom: 50px;"></div>
        </div>
        <div class='col-2 px-3'></div>
      </div>
    </div>

    <script type="text/javascript">hljs.highlightAll();</script>

  </body>
</html>
